<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.62">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-106005416-5","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Full stack vision AI on Kubernetes" href="/opensearch.xml">
<script src="/js/gtm.js"></script><title data-react-helmet="true">Semi-automatic annotation with CVAT | Full stack vision AI on Kubernetes</title><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Semi-automatic annotation with CVAT | Full stack vision AI on Kubernetes"><meta data-react-helmet="true" name="description" content="Onepanel - vision AI automatic annotation"><meta data-react-helmet="true" property="og:description" content="Onepanel - vision AI automatic annotation"><meta data-react-helmet="true" property="og:url" content="https://docs.onepanel.ai/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.onepanel.ai/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation"><link rel="stylesheet" href="/styles.43c40876.css">
<link rel="preload" href="/styles.2732c49f.js" as="script">
<link rel="preload" href="/runtime~main.c6c7049b.js" as="script">
<link rel="preload" href="/main.468014df.js" as="script">
<link rel="preload" href="/1.68516509.js" as="script">
<link rel="preload" href="/2.e17bf891.js" as="script">
<link rel="preload" href="/52.1db06396.js" as="script">
<link rel="preload" href="/55.60f2b331.js" as="script">
<link rel="preload" href="/935f2afb.06c15566.js" as="script">
<link rel="preload" href="/17896441.93e1f4d2.js" as="script">
<link rel="preload" href="/c79ff1bb.5867f811.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon.png" alt="Onepanel logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/getting-started/quickstart">Getting Started</a><a class="navbar__item navbar__link" href="/docs/reference/overview">User Guide</a><a class="navbar__item navbar__link" href="/docs/deployment/overview">Operator Manual</a><a class="navbar__item navbar__link" href="/docs/api-sdk/overview">APIs and SDKs</a><a href="https://github.com/onepanelio/core/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Releases</a><a href="https://github.com/onepanelio/core/milestones?direction=asc&amp;sort=due_date&amp;state=open" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Roadmap</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-label">Join the community:</a><a href="https://github.com/onepanelio/core/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-icon-link header-slack-link"></a><a href="https://github.com/onepanelio/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-icon-link header-github-link"></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon.png" alt="Onepanel logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/quickstart">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/overview">User Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/deployment/overview">Operator Manual</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api-sdk/overview">APIs and SDKs</a></li><li class="menu__list-item"><a href="https://github.com/onepanelio/core/releases" target="_blank" rel="noopener noreferrer" class="menu__link">Releases</a></li><li class="menu__list-item"><a href="https://github.com/onepanelio/core/milestones?direction=asc&amp;sort=due_date&amp;state=open" target="_blank" rel="noopener noreferrer" class="menu__link">Roadmap</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link header-community-label">Join the community:</a></li><li class="menu__list-item"><a href="https://github.com/onepanelio/core/discussions" target="_blank" rel="noopener noreferrer" class="menu__link header-icon-link header-slack-link"></a></li><li class="menu__list-item"><a href="https://github.com/onepanelio/core" target="_blank" rel="noopener noreferrer" class="menu__link header-icon-link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/reference/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workspaces/templates">Workspace Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workspaces/launching">Launching a Workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workspaces/pause-and-resume">Pause and resume</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workspaces/upgrade">Switching node pool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workspaces/delete">Terminating a Workspace</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workflows/templates">Workflow Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workflows/create">Creating a Workflow Template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/workflows/execute">Executing a Workflow</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Auto annotation with CVAT</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_quick_guide">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_annotation_model">Creating annotation model</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation">Automatic annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/adding_custom_model">Adding custom models</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_1Lrw">Semi-automatic annotation with CVAT</h1></header><div class="markdown"><p>You can use your TensorFlow models for Object Detection and Semantic Segmentation to pre-annotate your data. This can save you a lot of time since you don&#x27;t have to annotate images from scratch. On Onepanel, you can leverage these features to pre-annotate your bounding boxes or polygon masks. You can also use Object Tracking to track objects in a sequence of frames.</p><p>This page provides detailed information about pre-annotation in CVAT.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="uploading-your-model-on-cvat"></a>Uploading your model on CVAT<a aria-hidden="true" tabindex="-1" class="hash-link" href="#uploading-your-model-on-cvat" title="Direct link to heading">#</a></h2><p>Before using any type of semi-automatic annotation, you will need to upload your model to CVAT Model Manager by clicking on <strong>Models</strong>. </p><ol><li><p>To upload a model, click on <strong>Models</strong>, and then click on <strong>Create new model</strong>. </p></li><li><p>Click on select files and upload your model (<code>.pb</code> and <code>.csv</code> for TensorFlow Object Detection). Hit submit to upload the model. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>For TF Object Detection API and MaskRCNN, you will need two files- <strong>model</strong> and <strong>classes.csv</strong>. For TF Object Detection API, the model should be Tensorflow Frozen Graph (<code>.pb</code>). For MaskRCNN, it should be Keras model (<code>.h5</code>).</p></div></div><p><img alt="Model Manager" src="/assets/images/upload_model-558b35d2047ea4455ebf35a1e4add752.PNG"></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Since Onepanel automatically syncs data from cloud storage to local directory. You can click on <strong>Connected file share</strong> to use models from S3. You will find trained models in <code>root -&gt; output -&gt; &lt;cvat-task-name&gt; -&gt; &lt;workflow-name&gt; -&gt; &lt;workflow-execution-name&gt;</code>. For TensorFlow Object Detection API, there will be one more folder before <code>workflow-execution-time</code> based on the model you trained (i.e <code>frcnn-res50-coco</code>).</p></div></div></li><li><p>Click on <strong>Models</strong> again and you will find your model in the list. You can also use files from <code>Connected file share</code> just like creating new tasks.</p><p><img alt="Uploaded Models" src="/assets/images/upload_model_after-f03b04c9e4f592cee86fc96ac8b7b150.PNG"></p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="running-pre-annotation-in-cvat"></a>Running pre-annotation in CVAT<a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-pre-annotation-in-cvat" title="Direct link to heading">#</a></h2><ol><li><p>The first step is to upload your model on CVAT or use our default models which are available on CVAT. </p></li><li><p>Click on <strong>Automatic annotation</strong> under Actions menu. </p><p><img alt="Click Actions" src="/assets/images/cvat_select_automatic_annotation-83f8caebacf35761b7fd91bbd2e93e2d.png"></p></li><li><p>Select the model for pre-annotation. By default, you can use RCNN Object Detector (from Tensorflow Object Detection API) or  Mask RCNN Object Detector for semantic segmentation.</p></li><li><p>If you selected any models other than default ones then you will asked to do class mapping. CVAT will automatically map class from task to model&#x27;s class.</p><p><img alt="Class mapping" src="/assets/images/class_mapping-6b1522e59588573a2f253fc3d5bd115d.png"></p></li><li><p>Click on <strong>Submit</strong> to start pre-annotation. Once it&#x27;s done, you can click on <strong>Open</strong> to access the annotation.
<img alt="Automatic Annotation Running" src="/assets/images/cvat_automatic_annotation_running-fd66040849fcf0e0c733dbe7cf580d45.png"></p></li><li><p>Here is a output from default object detection model.</p><p><img alt="Inference Output" src="/assets/images/cvat_inference_output-5edbe6b6eaf80718eb9b2fc1a767b0d0.png"></p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="hardware-requirements"></a>Hardware requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware-requirements" title="Direct link to heading">#</a></h2><p>For training a model(Execute training Workflow), you can choose any GPU machine from the list. All of our models will work on any of the GPU machine. But if you want to train it faster, then we suggest you select machines with multiple GPUs (i.e 8 V100).</p><p>See the table below which details machine type with the corresponding runtime to perform pre-annotations.
For this test, we used a task with <strong>3550 images (2GB)</strong> to perform pre-annotations.</p><table><thead><tr><th>Machine    </th><th>Time    </th></tr></thead><tbody><tr><td>K80        </td><td>160 minutes  </td></tr><tr><td>V100        </td><td>80 minutes</td></tr><tr><td>V100 x 4    </td><td>21 minutes</td></tr></tbody></table><p>Run time depends on factors such as <strong>model, number of images, type of machine.</strong></p><p>The above data was generated for ssd-mobilenet-v2 model which is the model we suggest to use in normal circumstances. If you have complex annotations and want to use faster-rcnn based model, then it might take slightly more time. But note that it won’t significantly alter the data presented above.</p><p>The other factor is image compression. By default, CVAT compresses images by 50%. We did some testing to find out if we use original images (without compression) then how much time it will take.</p><p>It turns out that if you use the original images without compression, your pre-annotation time will be increased by ~5-6% of that of 50% compressed images. So in the above table, if you use images without compression and use a V100, it will take 84 minutes instead of 80 minutes. Note that this compression does not affect annotation in any way.</p><p>Note that this data was calculated on 3550 images (1280 x 960)(total size=2GB), so if your data size is different you can easily extrapolate the data from the above table. For example, if you have 10gb of images then ideally it will take around 400 minutes on a V100 GPU. </p><p>If the resolution of your images is slightly different, then it won’t affect run time significantly. In fact, if the difference is ~200 pixels then it won’t change at all, generally.</p><p>If you still have any questions, feel free to reach out to us at <a href="mailto:info@onepanel.io" target="_blank" rel="noopener noreferrer">info@onepanel.io</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/onepanelio/core-docs/tree/master/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_annotation_model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Creating annotation models on CVAT</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/getting-started/use-cases/computervision/annotation/cvat/adding_custom_model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding a custom deep learning model Workflow to CVAT »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#uploading-your-model-on-cvat" class="table-of-contents__link">Uploading your model on CVAT</a></li><li><a href="#running-pre-annotation-in-cvat" class="table-of-contents__link">Running pre-annotation in CVAT</a></li><li><a href="#hardware-requirements" class="table-of-contents__link">Hardware requirements</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Onepanel, Inc.</div></div></div></footer></div>
<script src="/styles.2732c49f.js"></script>
<script src="/runtime~main.c6c7049b.js"></script>
<script src="/main.468014df.js"></script>
<script src="/1.68516509.js"></script>
<script src="/2.e17bf891.js"></script>
<script src="/52.1db06396.js"></script>
<script src="/55.60f2b331.js"></script>
<script src="/935f2afb.06c15566.js"></script>
<script src="/17896441.93e1f4d2.js"></script>
<script src="/c79ff1bb.5867f811.js"></script>
</body>
</html>