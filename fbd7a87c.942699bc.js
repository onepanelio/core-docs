(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{124:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return s})),t.d(a,"rightToc",(function(){return b})),t.d(a,"default",(function(){return p}));var n=t(2),o=(t(0),t(128)),c=t(135),r=t(136);const i={title:"Quick start",sidebar_label:"Quick start",description:"Get started with Onepanel on AKS, EKS or GKE"},s={unversionedId:"getting-started/quickstart",id:"getting-started/quickstart",isDocsHomePage:!1,title:"Quick start",description:"Get started with Onepanel on AKS, EKS or GKE",source:"@site/docs/getting-started/quickstart.md",slug:"/getting-started/quickstart",permalink:"/docs/getting-started/quickstart",editUrl:"https://github.com/onepanelio/core-docs/tree/master/docs/getting-started/quickstart.md",version:"current",sidebar_label:"Quick start",sidebar:"gettingStarted",next:{title:"Namespaces",permalink:"/docs/getting-started/concepts/namespaces"}},b=[{value:"Step 0: Create a Kubernetes cluster",id:"step-0-create-a-kubernetes-cluster",children:[]},{value:"Step 1: Install Onepanel",id:"step-1-install-onepanel",children:[]},{value:"Step 2: Annotate your data",id:"step-2-annotate-your-data",children:[]},{value:"Step 3: Train a model on annotated data",id:"step-3-train-a-model-on-annotated-data",children:[]},{value:"Step 4: Use trained model for automatic annotation",id:"step-4-use-trained-model-for-automatic-annotation",children:[]},{value:"Next steps",id:"next-steps",children:[]}],l={rightToc:b};function p({components:e,...a}){return Object(o.b)("wrapper",Object(n.a)({},l,a,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"It's easy to get started with Onepanel. First, you install the CLI (",Object(o.b)("inlineCode",{parentName:"p"},"opctl"),") and then using ",Object(o.b)("inlineCode",{parentName:"p"},"opctl"),", you generate a ",Object(o.b)("inlineCode",{parentName:"p"},"params.yaml")," file and update it to configure your deployment. Once complete, you can access your deployment from any browser."),Object(o.b)("p",null,"In this quick start, we will walk you through:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Deploying Onepanel to one of the major cloud providers or locally on MicroK8s."),Object(o.b)("li",{parentName:"ol"},"Labelling your images or video using the integrated annotation Workspace."),Object(o.b)("li",{parentName:"ol"},"Training your model with the newly labelled data using the integrated training Workflows."),Object(o.b)("li",{parentName:"ol"},"Automatically annotating new data using your newly trained model.")),Object(o.b)("p",null,"Before getting started, take a look at ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/getting-started/concepts/namespaces"}),"concepts")," to understand the different components in Onepanel."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You can also follow along with our getting started videos, but be sure to use the commands from the docs:"),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://youtu.be/zwJM5T00qpA"}),"Getting started with Microsoft Azure")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://youtu.be/2LlOrVIrzzQ"}),"Getting started with Amazon EKS")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://youtu.be/YKSOiTgpwXk"}),"Getting started with Google Cloud GKE"))))),Object(o.b)("h2",{id:"step-0-create-a-kubernetes-cluster"},"Step 0: Create a Kubernetes cluster"),Object(o.b)("p",null,"Let's get started by creating a Kubernetes cluster in one of the major cloud providers or locally with MicroK8s:"),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Make sure the ",Object(o.b)("strong",{parentName:"p"},"latest version")," of ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest"}),"Azure CLI")," (",Object(o.b)("inlineCode",{parentName:"p"},"az"),") is installed before proceeding."))),Object(o.b)("p",null,"Run this ",Object(o.b)("inlineCode",{parentName:"p"},"az")," command to create a bare minimum cluster with 2 ",Object(o.b)("inlineCode",{parentName:"p"},"Standard_D4s_v3")," nodes:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"az aks create --resource-group <resource-group> --name <cluster-name> --location <region> \\\n    --node-count 2 \\\n    --node-vm-size Standard_D4s_v3 \\\n    --node-osdisk-size 100 \\\n    --min-count 2 \\\n    --max-count 5 \\\n    --enable-cluster-autoscaler \\\n    --network-plugin azure \\\n    --network-policy azure \\\n    --enable-addons monitoring \\\n    --generate-ssh-keys\n")),Object(o.b)("p",null,"You can then get access credentials by running:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"az aks get-credentials --resource-group <resource-group> --name <cluster-name> --admin\n"))),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Make sure the ",Object(o.b)("strong",{parentName:"p"},"latest version")," of ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html"}),"Amazon EKS CLI")," (",Object(o.b)("inlineCode",{parentName:"p"},"eksctl"),") is installed before proceeding."))),Object(o.b)("p",null,"Run this ",Object(o.b)("inlineCode",{parentName:"p"},"eksctl")," commands to create a bare minimum cluster with 2 ",Object(o.b)("inlineCode",{parentName:"p"},"m5.xlarge")," nodes:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'eksctl create cluster --name=<cluster-name> --region <region> --zones <<region>a>,<<region>b> --node-zones <<region>a> \\\n    --nodes 2  \\\n    --node-type m5.xlarge \\\n    --node-volume-size 100 \\\n    --nodes-min 2 \\\n    --nodes-max 5 \\\n    --asg-access \\\n    --ssh-access \\\n    --managed=false \\\n    --tags "onepanel.io/enabled=true,k8s.io/cluster-autoscaler/node-template/label/node.kubernetes.io/instance-type=m5.xlarge"\n')),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"In order to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/aws/containers-roadmap/issues/724"}),"support scale to and from zero"),", we need to use EKS unmanaged nodes. These do not show up in EKS console but you can view them by going to ",Object(o.b)("strong",{parentName:"p"},"EC2")," > ",Object(o.b)("strong",{parentName:"p"},"Auto Scaling groups"),"."))),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"eksctl")," command above will automatically retrieve your cluster's access credentials but you can also get them by running:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"eksctl utils write-kubeconfig --cluster=<cluster-name> --region <region>\n")),Object(o.b)("p",null,"If you want to give another user admin access to this cluster after creation:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"eksctl create iamidentitymapping --cluster <cluster-name> --arn arn:aws:iam::<number>:user/<username> --group system:masters --username <username>\n")),Object(o.b)("p",null,"We also recommend enabling CloudWatch monitoring as follows:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"eksctl utils update-cluster-logging --enable-types all\n"))),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Make sure the ",Object(o.b)("strong",{parentName:"p"},"latest version")," of ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://cloud.google.com/sdk/install"}),"Google Cloud SDK")," (",Object(o.b)("inlineCode",{parentName:"p"},"gcloud"),") is installed before proceeding."))),Object(o.b)("p",null,"Run this ",Object(o.b)("inlineCode",{parentName:"p"},"gcloud")," command to create a bare minimum cluster with 2 ",Object(o.b)("inlineCode",{parentName:"p"},"n1-standard-4")," nodes:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"gcloud container --project <project-name> clusters create <cluster-name> --zone <zone> --node-locations <zone> \\\n    --num-nodes 2 \\\n    --machine-type n1-standard-4 \\\n    --disk-size 100 \\\n    --min-nodes 2 \\\n    --max-nodes 5 \\\n    --enable-autoscaling \\\n    --enable-network-policy \\\n    --enable-stackdriver-kubernetes \\\n    --addons HorizontalPodAutoscaling,HttpLoadBalancing\n")),Object(o.b)("p",null,"The command above will automatically retrieve your cluster's access credentials but you can also get them by running:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"gcloud container clusters get-credentials <cluster-name> --zone <zone>\n"))),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"MicroK8s deployment is currently only supported on Ubuntu 20.04 or higher running as host OS on a local cluster with at least ",Object(o.b)("strong",{parentName:"p"},"12 GB of RAM"),"."),Object(o.b)("p",{parentName:"div"},"If you want to experiment with deploying to a remote VM or using Multipass, see ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/configuration/remote-microk8s"}),"MicroK8s on remote machines")," for reference."))),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"First, install ",Object(o.b)("inlineCode",{parentName:"p"},"microk8s"),"."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sudo snap install microk8s --channel=1.19/stable --classic\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure your current user has permissions to work with ",Object(o.b)("inlineCode",{parentName:"p"},"microk8s"),"."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sudo usermod -a -G microk8s $USER\nsudo chown -f -R $USER ~./kube\n")),Object(o.b)("div",Object(n.a)({parentName:"li"},{className:"admonition admonition-note alert alert--secondary"}),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You will have restart your machine for this change to take effect."))),Object(o.b)("p",{parentName:"li"},"Wait for it to be ready."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s status --wait-ready\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Enable the following required add-ons:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sudo microk8s enable storage dns rbac\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Enable TokenRequest feature (required by Istio) by passing in extra arguments to the api server."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),"sudo nano /var/snap/microk8s/current/args/kube-apiserver\n")),Object(o.b)("p",{parentName:"li"},"Add these lines:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"--service-account-signing-key-file=${SNAP_DATA}/certs/serviceaccount.key\n--service-account-key-file=${SNAP_DATA}/certs/serviceaccount.key\n--service-account-issuer=api\n--service-account-api-audiences=api,nats\n")),Object(o.b)("p",{parentName:"li"},"Make sure this line is set to these values:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"--authorization-mode=RBAC,Node\n")),Object(o.b)("p",{parentName:"li"},"Save your changes.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Restart daemon-apiserver for changes to take effect"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sudo systemctl restart snap.microk8s.daemon-apiserver\n")),Object(o.b)("p",{parentName:"li"},"Check microk8s is running with"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s status --wait-ready\n")))))),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Once you are done with these quick start steps, see ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/components/nodes"}),"adding more nodes")," to add additional CPU or GPU nodes to your cluster."))),Object(o.b)("h2",{id:"step-1-install-onepanel"},"Step 1: Install Onepanel"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Download the latest ",Object(o.b)("inlineCode",{parentName:"p"},"opctl")," for your operating system from ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/onepanelio/core/releases/latest"}),"our release page"),"."),Object(o.b)(c.a,{groupId:"operating-systems",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"macOS",value:"macos"},{label:"Windows",value:"windows"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"linux",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"# Download the binary\ncurl -sLO https://github.com/onepanelio/core/releases/latest/download/opctl-linux-amd64\n\n# Make binary executable\nchmod +x opctl-linux-amd64\n\n# Move binary to path\nmv ./opctl-linux-amd64 /usr/local/bin/opctl\n\n# Test installation\nopctl version\n"))),Object(o.b)(r.a,{value:"macos",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"# Download the binary\ncurl -sLO https://github.com/onepanelio/core/releases/latest/download/opctl-macos-amd64\n\n# Make binary executable\nchmod +x opctl-macos-amd64\n\n# Move binary to path\nmv ./opctl-macos-amd64 /usr/local/bin/opctl\n\n# Test installation\nopctl version\n"))),Object(o.b)(r.a,{value:"windows",mdxType:"TabItem"},Object(o.b)("div",Object(n.a)({parentName:"li"},{className:"admonition admonition-info alert alert--info"}),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Download the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/onepanelio/core/releases/latest/download/opctl-windows-amd64.exe"}),"attached executable"),", rename it to ",Object(o.b)("inlineCode",{parentName:"p"},"opctl")," and move it to a folder that is in your PATH environment variable.")))),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"# Download the binary\ncurl -sLO https://github.com/onepanelio/core/releases/latest/download/opctl-linux-amd64\n\n# Make binary executable\nchmod +x opctl-linux-amd64\n\n# Move binary to path\nmv ./opctl-linux-amd64 /usr/local/bin/opctl\n\n# Test installation\nopctl version\n"))))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to initialize a ",Object(o.b)("inlineCode",{parentName:"p"},"params.yaml")," template for your provider:"),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl init --provider aks \\\n  --artifact-repository-provider abs \\\n  --gpu-device-plugins nvidia\n"))),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl init --provider eks \\\n  --artifact-repository-provider s3 \\\n  --gpu-device-plugins nvidia\n"))),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl init --provider gke \\\n  --artifact-repository-provider gcs \\\n  --gpu-device-plugins nvidia\n"))),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl init --provider microk8s \\\n           --enable-metallb \\\n           --artifact-repository-provider abs\n")))),Object(o.b)("div",Object(n.a)({parentName:"li"},{className:"admonition admonition-note alert alert--secondary"}),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Currently, valid options for ",Object(o.b)("inlineCode",{parentName:"p"},"--artifact-repository-provider")," flag are ",Object(o.b)("inlineCode",{parentName:"p"},"s3"),", ",Object(o.b)("inlineCode",{parentName:"p"},"gcs")," and ",Object(o.b)("inlineCode",{parentName:"p"},"abs"),". "),Object(o.b)("p",{parentName:"div"},"The ",Object(o.b)("inlineCode",{parentName:"p"},"s3")," option supports ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://aws.amazon.com/s3/"}),"Amazon S3")," and any S3 compatible object storage like ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.min.io/"}),"Minio"),"."),Object(o.b)("p",{parentName:"div"},"The ",Object(o.b)("inlineCode",{parentName:"p"},"gcs")," option supports ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://cloud.google.com/storage/"}),"Google Cloud Storage"),"."),Object(o.b)("p",{parentName:"div"},"The ",Object(o.b)("inlineCode",{parentName:"p"},"abs")," option supports ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://azure.microsoft.com/en-us/services/storage/blobs/"}),"Azure Blob Storage"),".")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Populate ",Object(o.b)("inlineCode",{parentName:"p"},"params.yaml")," by following the instructions in the template, and referring to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/configuration/files#sections"}),"configuration file sections")," for more detailed information.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Label your nodes if applicable."),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("p",{parentName:"li"},"Azure AKS automatically labels nodes with ",Object(o.b)("inlineCode",{parentName:"p"},"node.kubernetes.io/instance-type=<cloud-provider-instance-type>"),".")),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("p",{parentName:"li"},"Amazon EKS automatically labels nodes with ",Object(o.b)("inlineCode",{parentName:"p"},"node.kubernetes.io/instance-type=<cloud-provider-instance-type>"),".")),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("p",{parentName:"li"},"Google Cloud GKE automatically labels nodes with ",Object(o.b)("inlineCode",{parentName:"p"},"node.kubernetes.io/instance-type=<cloud-provider-instance-type>"),".")),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("p",{parentName:"li"},"To allow Workspaces to run on your machine(s) you need to label them."),Object(o.b)("p",{parentName:"li"},"First, get the names of your nodes by running:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s kubectl get nodes\n")),Object(o.b)("p",{parentName:"li"},"You will get results similar to below:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"NAME     STATUS   ROLES    AGE   VERSION\nsample   Ready    <none>   11m   v1.19.8-34+811e9feeade1d3\n")),Object(o.b)("p",{parentName:"li"},"Then, for each node name, add the label from your ",Object(o.b)("inlineCode",{parentName:"p"},"application.nodePool.label")," from your ",Object(o.b)("inlineCode",{parentName:"p"},"params.yaml"),", for example if you have:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"nodePool:\n    label: node.kubernetes.io/instance-type\n    options:\n      - name: 'Local machine'\n        value: local\n")),Object(o.b)("p",{parentName:"li"},"and the node above is called ",Object(o.b)("inlineCode",{parentName:"p"},"sample"),", you can label the node as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s kubectl label node sample node.kubernetes.io/instance-type=local\n"))))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to deploy Onepanel to your cluster:"),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl apply\n"))),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl apply\n"))),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl apply\n"))),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s config > kubeconfig\nKUBECONFIG=./kubeconfig opctl apply\n")))),Object(o.b)("div",Object(n.a)({parentName:"li"},{className:"admonition admonition-note alert alert--secondary"}),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If the command completes but it indicates that your cluster is not ready, you can check status again by running ",Object(o.b)("inlineCode",{parentName:"p"},"opctl app status"),". If you're still seeing issues, visit our ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/troubleshooting/overview"}),"Troubleshooting")," page.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Once the deployment completes, the CLI will display the host name and wildcard domain you need to use to setup your DNS. You can also get this information again by running:"),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl app status\n")),Object(o.b)("p",{parentName:"li"},"  Create the appropriate DNS record in your DNS provider based on the instructions above."),Object(o.b)("p",{parentName:"li"},"  Wait a few minutes and check the URL mentioned in the instructions above. Your applications should load with a screen prompting you to enter a token.")),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl app status\n")),Object(o.b)("p",{parentName:"li"},"  Create the appropriate DNS record in your DNS provider based on the instructions above."),Object(o.b)("p",{parentName:"li"},"  Wait a few minutes and check the URL mentioned in the instructions above. Your applications should load with a screen prompting you to enter a token.")),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl app status\n")),Object(o.b)("p",{parentName:"li"},"  Create the appropriate DNS record in your DNS provider based on the instructions above."),Object(o.b)("p",{parentName:"li"},"  Wait a few minutes and check the URL mentioned in the instructions above. Your applications should load with a screen prompting you to enter a token.")),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("p",{parentName:"li"},"  With a local deployment, you may also need to set up DNS locally. Follow the instructions below to do this using ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://thekelleys.org.uk/dnsmasq/doc.html"}),"Dnsmasq"),"."),Object(o.b)("p",{parentName:"li"},"  Run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"KUBECONFIG=./kubeconfig opctl app status\n")),Object(o.b)("p",{parentName:"li"},"  You'll get a similar output to below:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"In your DNS, add an A record for *.onepanel.test and point it to '198.168.99.0'\nOnce complete, your application will be running at https://app.onepanel.test\n")),Object(o.b)("p",{parentName:"li"},"  Record the IP address, ",Object(o.b)("inlineCode",{parentName:"p"},"198.168.99.0")," and the domain ",Object(o.b)("inlineCode",{parentName:"p"},"*.onepanel.test"),"."),Object(o.b)("p",{parentName:"li"},"  Then, follow the instructions at ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/configuration/dns"}),"Local DNS with Dnsmasq")," to set up local DNS.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Use the following command to get your auth token to log into Onepanel:"),Object(o.b)(c.a,{groupId:"cloud-provider",defaultValue:"aks",values:[{label:"Azure AKS",value:"aks"},{label:"Amazon EKS",value:"eks"},{label:"Google Cloud GKE",value:"gke"},{label:"MicroK8s",value:"microk8s"}],mdxType:"Tabs"},Object(o.b)(r.a,{value:"aks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl auth token\n"))),Object(o.b)(r.a,{value:"eks",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl auth token\n"))),Object(o.b)(r.a,{value:"gke",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"opctl auth token\n"))),Object(o.b)(r.a,{value:"microk8s",mdxType:"TabItem"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"microk8s config > kubeconfig\nKUBECONFIG=./kubeconfig opctl auth token\n")))))),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If the application is not loading, visit our ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/troubleshooting/overview"}),"Troubleshooting")," page for some steps that can help resolve most issues. If you are still having issues, reach out in ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://join.slack.com/t/onepanel-ce/shared_invite/zt-eyjnwec0-nLaHhjif9Y~gA05KuX6AUg"}),"Slack")," or ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/onepanelio/core/discussions"}),"GitHub discussions"),"."))),Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You will most likely need to use a GPU node pool for ",Object(o.b)("strong",{parentName:"p"},"Step 3: Train a model on annotated data")," below. See ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/deployment/components/nodes"}),"adding more nodes")," for instructions on adding GPU node pools to your cluster."))),Object(o.b)("h2",{id:"step-2-annotate-your-data"},"Step 2: Annotate your data"),Object(o.b)("p",null,"Onepanel is fully integrated with ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/opencv/cvat"}),"Computer Vision Annotation Tool (CVAT)"),", allowing you to annotate images and videos and then train models on the annotated data with a few clicks. You can then use these newly trained models to automatically pre-annotate additional data, iteratively improving your object detection or semantic segmentation models."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Go to ",Object(o.b)("strong",{parentName:"p"},"Workspaces")," and click ",Object(o.b)("strong",{parentName:"p"},"Create Workspace"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{alt:"Create Workspace",src:t(139).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select the CVAT template and enter a name for your Workspace."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(153).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select a node pool that Onepanel will use to provision a machine for running CVAT. CVAT requires at least 16GB of RAM."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(154).default})),Object(o.b)("div",Object(n.a)({parentName:"li"},{className:"admonition admonition-note alert alert--secondary"}),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Some providers have limits on how many volumes you can attach to a node. The default CVAT template in Onepanel requires 3 volumes, so make sure to pick a machine that can support at least that many volumes.")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Create and Run")," to launch your CVAT Workspace.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Once CVAT is running, click ",Object(o.b)("strong",{parentName:"p"},"View"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(155).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"In CVAT, click ",Object(o.b)("strong",{parentName:"p"},"Create new task"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(156).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Enter a name for your task and then under ",Object(o.b)("strong",{parentName:"p"},"Constructor"),", add your labels. See ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/opencv/cvat/blob/develop/cvat/apps/documentation/user_guide.md#creating-an-annotation-task"}),"CVAT's user guide")," for additional information on more advanced label configuration.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},'Assuming you have already uploaded your images or videos to your object storage, under "Select files", click ',Object(o.b)("strong",{parentName:"p"},"Connected file share"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(141).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click the Onepanel icon in bottom right corner to bring up the Workspace panel.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Under ",Object(o.b)("strong",{parentName:"p"},"Workspace path"),", type in the path to use to sync your object storage data to, then browse to the folder containing your images or videos under ",Object(o.b)("strong",{parentName:"p"},"Object storage location"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(157).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Sync to Workspace")," to sync your files to this Workspace. Once syncing is complete, click ",Object(o.b)("strong",{parentName:"p"},"Refresh")," and select your files."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(158).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Submit")," and then click the ",Object(o.b)("strong",{parentName:"p"},"Tasks")," menu item to go to the tasks list.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Open")," to open task details."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(137).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Job #1")," to go into CVAT to start annotating your data. See ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/opencv/cvat/blob/develop/cvat/apps/documentation/user_guide.md#interface-of-the-annotation-tool"}),"CVAT's user guide")," for more information on the annotation tool interface."))),Object(o.b)("h2",{id:"step-3-train-a-model-on-annotated-data"},"Step 3: Train a model on annotated data"),Object(o.b)("p",null,"You can train object detection or semantic segmentation models directly from CVAT, which you can then use to automatically pre-annotate new data. This dramatically reduces the time it takes to train new models and iteratively improve your models. Moreover, apart from default models that we provide, you easily add custom model training Workflows and use them for pre-annotation as well."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click on ",Object(o.b)("strong",{parentName:"p"},"Open")," for a task you want to train a model on."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{alt:"Open task",src:t(137).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click on ",Object(o.b)("strong",{parentName:"p"},"Job #X"),", where X could be any job number. Annotate few frames. For testing you can just annotate one frame. But ideally you want to have thousands of objects to train a deep learning model on. Alternatively, you can just run pre-annotation if your labels are common ones.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click on ",Object(o.b)("strong",{parentName:"p"},"Actions")," for a task you want to train a model on. Then, click on ",Object(o.b)("strong",{parentName:"p"},"Execute training Workflow"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{alt:"Select training workflow",src:t(149).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select a training Workflow Template. By default, you can use ",Object(o.b)("strong",{parentName:"p"},"TF Object Detection Training")," for object detection or ",Object(o.b)("strong",{parentName:"p"},"MaskRCNN Training")," for semantic segmentation."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(140).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Update ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/workflows/training"}),"hyperparameters")," depending on your model and data. These training Workflows also include ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/workflows/data-augmentation"}),"data augmentation")," fields that you can adjust accordingly as well.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Submit"),". This will execute the training Workflow for the selected model. You can view real-time logs and view TensorBoard by clicking ",Object(o.b)("strong",{parentName:"p"},"Open Workflow details"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:t(291).default})))),Object(o.b)("h2",{id:"step-4-use-trained-model-for-automatic-annotation"},"Step 4: Use trained model for automatic annotation"),Object(o.b)("p",null,"If you want to use your trained model for automatic annotation in CVAT, follow the steps outlined in ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/cvat/automatic-annotation"}),"Using trained models for automatic annotation"),"."),Object(o.b)("h2",{id:"next-steps"},"Next steps"),Object(o.b)("p",null,"You can also easily add your own custom model training Workflows. See ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/cvat/custom-models"}),"adding custom models")," for more information on adding custom models."))}p.isMDXComponent=!0},128:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return u}));var n=t(0),o=t.n(n);function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=o.a.createContext({}),l=function(e){var a=o.a.useContext(b),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},p=function(e){var a=l(e.components);return o.a.createElement(b.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return o.a.createElement(o.a.Fragment,{},a)}},d=o.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,c=e.originalType,r=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),p=l(t),d=n,u=p["".concat(r,".").concat(d)]||p[d]||m[d]||c;return t?o.a.createElement(u,i(i({ref:a},b),{},{components:t})):o.a.createElement(u,i({ref:a},b))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var c=t.length,r=new Array(c);r[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,r[1]=i;for(var b=2;b<c;b++)r[b]=t[b];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},130:function(e,a,t){"use strict";function n(e){var a,t,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(t=n(e[a]))&&(o&&(o+=" "),o+=t);else for(a in e)e[a]&&(o&&(o+=" "),o+=a);return o}a.a=function(){for(var e,a,t=0,o="";t<arguments.length;)(e=arguments[t++])&&(a=n(e))&&(o&&(o+=" "),o+=a);return o}},131:function(e,a,t){"use strict";var n=t(0);const o=Object(n.createContext)(void 0);a.a=o},132:function(e,a,t){"use strict";var n=t(0),o=t(131);a.a=function(){const e=Object(n.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},135:function(e,a,t){"use strict";var n=t(0),o=t.n(n),c=t(132),r=t(130),i=t(48),s=t.n(i);const b=37,l=39;a.a=function(e){const{block:a,children:t,defaultValue:i,values:p,groupId:m}=e,{tabGroupChoices:d,setTabGroupChoices:u}=Object(c.a)(),[O,j]=Object(n.useState)(i),[g,N]=Object(n.useState)(!1);if(null!=m){const e=d[m];null!=e&&e!==O&&p.some(a=>a.value===e)&&j(e)}const h=e=>{j(e),null!=m&&u(m,e)},v=[],f=e=>{e.metaKey||e.altKey||e.ctrlKey||N(!0)},y=()=>{N(!1)};return Object(n.useEffect)(()=>{window.addEventListener("keydown",f),window.addEventListener("mousedown",y)},[]),o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":a})},p.map(({value:e,label:a})=>o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":O===e,className:Object(r.a)("tabs__item",s.a.tabItem,{"tabs__item--active":O===e}),style:g?{}:{outline:"none"},key:e,ref:e=>v.push(e),onKeyDown:e=>{((e,a,t)=>{switch(t.keyCode){case l:((e,a)=>{const t=e.indexOf(a)+1;e[t]?e[t].focus():e[0].focus()})(e,a);break;case b:((e,a)=>{const t=e.indexOf(a)-1;e[t]?e[t].focus():e[e.length-1].focus()})(e,a)}})(v,e.target,e),f(e)},onFocus:()=>h(e),onClick:()=>{h(e),N(!1)},onPointerDown:()=>N(!1)},a))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(t).filter(e=>e.props.value===O)[0]))}},136:function(e,a,t){"use strict";var n=t(0),o=t.n(n);a.a=function(e){return o.a.createElement("div",null,e.children)}},137:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cvat_open-f720c7c0bf600fa4cefeb1de339d730d.png"},139:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/create_workspaces_button_in_workspaces_page-046390af8c3ed7dad84879f45a461165.png"},140:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/built-in-models-153544-be0bf4fa9c62c48ee517e9c8d840cccd.png"},141:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-212157-3e40293055b7e602792a6d390ff29189.png"},149:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cvat_select_workflow_execution-ec9d8925cf9110729a481ea6088aa571.png"},153:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-115738-445c393948e67e6ec4bc5b61082f7016.png"},154:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-133251-1338ebabe71eced17da32a7924187ff1.png"},155:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-173734-a730cfefda50e9301ae61a778b37a082.png"},156:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-173841-24b22c32f4c5b6fe151c17b51a5e70ce.png"},157:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-111117-8d8b68da9eb2c9678192c51a100d9a62.png"},158:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-213616-5ec1b188f1600ccf3341f72149e9d504.png"},291:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/quickstart-155149-5df23c25ae3c08d0528cc6ad12684673.png"}}]);